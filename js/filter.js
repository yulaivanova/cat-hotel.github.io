"use strict";!function(){var t=document.querySelectorAll(".catalog__item"),e=document.querySelector(".filters__form"),r=e.querySelector(".filters__btn--reset"),u=e.querySelector("#min-price"),d=e.querySelector("#max-price"),l=e.querySelector("#equipment-features"),a=e.querySelector("#size-features"),o=document.querySelector(".catalog__empty-item"),s=Array.from(t);console.log(s),console.log(s.sort());function y(e,t){for(var r=0,l=e.length;r<l;r++)if(-1===t.indexOf(e[r]))return;return 1}function v(e){for(var t=[],r=0;r<e.length;r++){var l=e[r];l.checked&&t.push(l.value)}return t}e.addEventListener("submit",function(e){e.preventDefault();var i=v(l.elements),c=v(a.elements),n=6;Array.prototype.forEach.call(t,function(e){e.classList.add("visually-hidden");var r=[],t=+e.querySelector(".room-card__price").textContent,l=u.value,a=d.value,o=e.querySelector(".room-card__feature-size").dataset.size,s=e.querySelectorAll(".room-card__feature");Array.prototype.forEach.call(s,function(e){var t=e.dataset.feature;r.push(t)}),0<c.length&&t<=a&&l<=t&&c.includes(o)&&e.classList.remove("visually-hidden"),0===c.length&&t<=a&&l<=t&&y(i,r)&&e.classList.remove("visually-hidden"),0<i.length&&!y(i,r)&&e.classList.add("visually-hidden"),e.classList.contains("visually-hidden")?n--:n++}),n<1?o.classList.remove("visually-hidden"):o.classList.add("visually-hidden"),window.popup.close()}),r.addEventListener("click",function(){Array.prototype.forEach.call(t,function(e){e.classList.remove("visually-hidden")}),o.classList.add("visually-hidden"),window.popup.close()})}();